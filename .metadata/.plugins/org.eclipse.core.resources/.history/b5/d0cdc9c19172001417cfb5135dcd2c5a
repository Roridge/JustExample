package com.flowmellow.justexample.activities.adapters;

import java.util.Collections;
import java.util.Map;
import java.util.WeakHashMap;

import android.content.Context;
import android.graphics.Bitmap;
import android.widget.ImageView;

public class ImageLoader {

	private ImageCache imageCache = new ImageCache();
	private Map<ImageView, String> imageViewsToUrlMap = Collections.synchronizedMap(new WeakHashMap<ImageView, String>());

	public ImageLoader(Context applicationContext) {
		// TODO Auto-generated constructor stub
	}

	public void displayImage(ImageView imageView, String url) {
		imageViewsToUrlMap.put(imageView, url);
		final Bitmap image = imageCache.getImage(url);
		
		if(image == null) {
			queueForLoad(imageView, url);
		} else {
			imageView.setImageBitmap(image);
		}
	}

	private void queueForLoad(ImageView imageView, String url) {
		
		final ImageLoaderQueueItem queueItem = new ImageLoaderQueueItem(imageView, url);
		
	}
	
	

}
